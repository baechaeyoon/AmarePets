<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="mapper.member">
  	<resultMap type="memberVO" id="memResult">
  		<result property="userID" column="user_ID"/>
  		<result property="userPW" column="user_PW"/>
  		<result property="userNAME" column="user_NAME"/>
  		<result property="userEmail" column="user_Email"/>
  		<result property="userAddress" column="user_Address"/>
  		<result property="userPhoneNumber" column="user_PhoneNumber"/>
  		<result property="userIC" column="user_IC"/>
  	</resultMap>
  	
  	<select id="selectAllMemberList" resultMap="memResult">
  		<![CDATA[
  			SELECT * FROM pets_user
  		]]>
  	</select>
  	
  	<select id="selectAllShelterList" resultMap="memResult">
  		<![CDATA[
  				SELECT * FROM pets_user
  				where user_IC like '%Corporation%'
  		]]>
  	</select>
  	
  	
  	
  	<insert id="insertMember" parameterType="memberVO" >
  		<![CDATA[
  			INSERT INTO pets_user(user_ID, user_PW, user_NAME, user_Email, user_Address, user_PhoneNumber, user_IC)
  			VALUES (#{userID}, #{userPW}, #{userNAME}, #{userEmail}, #{userAddress}, #{userPhoneNumber}, #{userIC, jdbcType=VARCHAR})
  		]]>
  	</insert>
  	
  	<delete id="deleteMember" parameterType="String">
  		<![CDATA[
  			DELETE FROM pets_user
  			WHERE user_ID = #{userID}
  		]]>
  	</delete>
  	
  	<select id="loginById" resultType="memberVO" parameterType="memberVO">
		<![CDATA[
			SELECT * FROM  pets_user
			WHERE user_ID=#{userID} AND user_PW=#{userPW}
		]]>
	</select>
  	
  	
  	<select id="selectKeywordSearch" resultType="String" parameterType="String">
		<![CDATA[
			SELECT user_Address FROM pets_user
			WHERE 
			user_Address LIKE '%' || #{keyword} || '%' AND user_IC LIKE '%Corporation%'
		
		]]>
	</select>
	
	<select id="selectBoardsBySearchWord" resultMap="memResult" parameterType="String">
			SELECT T.* FROM pets_user T
			WHERE 
			T.user_Address LIKE '%' || #{searchWord} || '%' AND user_IC LIKE '%Corporation%'
		
	</select>
  </mapper>